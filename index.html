<!DOCTYPE html>
<!-- NOTE: This client IS NOT BlueSky's. I am merely only wrapping their API in a web interface. BlueSky Social is still not publicly released yet. -->
<html>
  <head>
    <title>BlueSky Wrapper</title>
    <meta name="viewport" content="width=device-width, initial-scale: 1, maximum-scale=1">
    <link rel="icon" href="https://cdn.glitch.global/fa1b6839-ae9a-450b-b03b-be3be9c9b051/blue-favicon?v=1679367426997">
    <link rel="apple-touch-icon" href="https://cdn.glitch.global/fa1b6839-ae9a-450b-b03b-be3be9c9b051/blue-app-favicon?v=1679196074840">
    <link rel="manifest" href="../../../manifest.json">
    <script type="module"src="../../../location.js"></script>
    <script type="module" src="../../../labels.js"></script>
  </head>
  <body>
    <header>
      <div style="display: flex; justify-content: center;">
      <flex style="width: 850px; justify-content: space-between;">
        <a href="../../../" style="text-decoration: none;"><h1><brand>BlueSky</brand> Social Wrapper</h1></a>
        <flex>
          <div onclick="toggleNav()" id="searcher">
           <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="24" height="24"><path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path></svg>
          </div>
          <div id="loginButton">
            <button onclick="localStorage.removeItem('viewFeed'); window.location.href = '../../../login';" style="font-weight: 700 !important; font-size: 1rem; padding: 0.5rem; border-radius: 0.75rem; padding-left: 0.75rem; padding-right: 0.75rem;" class="rolo-click">Login</button>
          </div>
          <div class="hidden" id="logoutButton">
            <button onclick="logout();" style="font-weight: 700 !important; font-size: 1rem; padding: 0.5rem; border-radius: 0.75rem; padding-left: 0.75rem; padding-right: 0.75rem;" class="rolo-click">Logout</button>
          </div>
        </flex>
      </flex>
      </div>
    </header>
    <main-content>
      <div id="introMessage" class="hidden">
        <br>
        <h4>Hello everyone. I decided to make a BlueSky Social API wrapper for those who wanted to see the posts on the platform before they had an account. Enjoy!</h4>
        <br>
      </div>
      <div class="center">
        <grid>
          <rolodex>
            <menu>
              <a id="navButtonHomeDesktop" href="../../../" class="deskbutton" style="color: #222; text-decoration: none; border-radius: 0.6rem;">
                <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="27" height="27"><path d="M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z"></path></svg>
                <div>Home</div>
              </a>
              <a onclick="addLocation(event);" class="deskbutton notifRedir" id="navButtonNotifsDesktop" style="justify-content: space-between; text-decoration: none; border-radius: 0.6rem;">
                <div id="navNotifsDesktop" style="display: flex; justify-content: space-between; align-items: center; gap: 0.75rem; color: #222;">
                  <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="27" height="27"><path d="M8 16a2 2 0 0 0 1.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 0 0 8 16ZM3 5a5 5 0 0 1 10 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.519 1.519 0 0 1 13.482 13H2.518a1.516 1.516 0 0 1-1.263-2.36l1.703-2.554A.255.255 0 0 0 3 7.947Zm5-3.5A3.5 3.5 0 0 0 4.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.017.017 0 0 0-.003.01l.001.006c0 .002.002.004.004.006l.006.004.007.001h10.964l.007-.001.006-.004.004-.006.001-.007a.017.017 0 0 0-.003-.01l-1.703-2.554a1.745 1.745 0 0 1-.294-.97V5A3.5 3.5 0 0 0 8 1.5Z"></path></svg>
                  <div>Notifications</div>
                </div>
                <div>
                  <div class="hidden" id="notifCountDesktop"></div>
                </div>
              </a>
              <a onclick="addLocation(event);" id="navButtonProfileDesktop" class="deskbutton profileRedir" style="border-radius: 0.6rem; color: #222; text-decoration: none;">
                <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="27" height="27"><path d="M10.561 8.073a6.005 6.005 0 0 1 3.432 5.142.75.75 0 1 1-1.498.07 4.5 4.5 0 0 0-8.99 0 .75.75 0 0 1-1.498-.07 6.004 6.004 0 0 1 3.431-5.142 3.999 3.999 0 1 1 5.123 0ZM10.5 5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path></svg>
                <div>Profile</div>
              </a>
              <button onclick="newPostToggle();" style="margin-bottom: 1.25rem; display: none;" id="new-post">
                <svg fill="white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="27" height="27"><path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z"></path></svg>
                <div>New Post</div>
              </button>
              <h2 style="margin-top: 0px;">Rolodex</h2>
              <spacer>
                <div class="rolo-container">
                  <h3>Get User</h3>
                  <input type="text" autocomplete="off" autocapitalize="none" spellcheck="false" placeholder="Handle or DID" id="getUserId" required="true" class="rolo-text">
                  <input type="button" id="goToUserButton" class="rolo-click" value="Run Query">
                </div>
                <div class="rolo-container">
                  <h3>Get Post</h3>
                  <input type="text" autocomplete="off" autocapitalize="none" spellcheck="false" placeholder="Handle or DID" id="getPostUser" required="true" class="rolo-text">
                  <input type="text" autocomplete="off" autocapitalize="none" spellcheck="false" placeholder="Post RKey, Ex: 3joxbu4fzfc2c" id="getPostId" required="true" class="rolo-text">
                  <input type="button" id="goToPostButton" class="rolo-click" value="Run Query">
                </div>
                <div class="rolo-container">
                  <h3 title="Label posts from an account">Labeling</h3>
                  <h5>Label posts from an account</h5>
                  <flex style="margin-top: 0.5rem;">
                    <input type="checkbox" id="labelCheckOGDids">
                    <label>OG (first 329 accounts)</label>
                  </flex>
                  <flex style="margin-top: 0.5rem;">
                    <input type="checkbox" id="labelCheckBSKYStaff">
                    <label>Bluesky Staff</label>
                  </flex>
                  <flex title="Must be logged in" style="margin-top: 0.5rem;">
                    <input type="checkbox" id="labelCheckFlagged" disabled>
                    <label class="disabledFlag" id="labelOfCheckFlagged">Flagged Accounts</label>
                  </flex>
                </div>
                <button onclick="localStorage.removeItem('viewFeed'); window.location.href = '../../../login';" style="font-weight: 700 !important; font-size: 1rem; padding: 0.5rem;" class="rolo-click active" id="loginMobile">Login</button>
              </spacer>
              <br><br><br>
              <div id="userInfoDesktop"></div>
            </menu>
          </rolodex>
          <feed>
            <div id="feed">
              <div id="feed-attach">
                <h2>Feed</h2>
              </div>
              <div id="feedStruct">
                <div class="feed-container">
                  <div class="spinner">
                    <svg style="animation: spin 1s infinite;" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="32" height="32"><path d="M5.029 2.217a6.5 6.5 0 0 1 9.437 5.11.75.75 0 1 0 1.492-.154 8 8 0 0 0-14.315-4.03L.427 1.927A.25.25 0 0 0 0 2.104V5.75A.25.25 0 0 0 .25 6h3.646a.25.25 0 0 0 .177-.427L2.715 4.215a6.491 6.491 0 0 1 2.314-1.998ZM1.262 8.169a.75.75 0 0 0-1.22.658 8.001 8.001 0 0 0 14.315 4.03l1.216 1.216a.25.25 0 0 0 .427-.177V10.25a.25.25 0 0 0-.25-.25h-3.646a.25.25 0 0 0-.177.427l1.358 1.358a6.501 6.501 0 0 1-11.751-3.11.75.75 0 0 0-.272-.506Z"></path><path d="M9.06 9.06a1.5 1.5 0 1 1-2.12-2.12 1.5 1.5 0 0 1 2.12 2.12Z"></path></svg>
                  </div>
                </div>
              </div>
            </div>
            <div id="post" class="hidden">
              <a onclick="goBack();" title="Go back to previous page" class="back-button">
                <svg style="margin-top: auto; margin-bottom: auto;" xmlns="http://www.w3.org/2000/svg" fill="inherit" viewbox="0 0 16 16" width="32" height="32"><path d="M9.78 12.78a.75.75 0 0 1-1.06 0L4.47 8.53a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L6.06 8l3.72 3.72a.75.75 0 0 1 0 1.06Z"></path></svg>
                <h2 style="color: inherit;">Post</h2>
              </a>
              <div class="hidden" id="rootpost">
                <div id="rootpost-container">
                  <div class="feed-container spinner">
                    <svg style="animation: spin 1s infinite;" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="32" height="32"><path d="M5.029 2.217a6.5 6.5 0 0 1 9.437 5.11.75.75 0 1 0 1.492-.154 8 8 0 0 0-14.315-4.03L.427 1.927A.25.25 0 0 0 0 2.104V5.75A.25.25 0 0 0 .25 6h3.646a.25.25 0 0 0 .177-.427L2.715 4.215a6.491 6.491 0 0 1 2.314-1.998ZM1.262 8.169a.75.75 0 0 0-1.22.658 8.001 8.001 0 0 0 14.315 4.03l1.216 1.216a.25.25 0 0 0 .427-.177V10.25a.25.25 0 0 0-.25-.25h-3.646a.25.25 0 0 0-.177.427l1.358 1.358a6.501 6.501 0 0 1-11.751-3.11.75.75 0 0 0-.272-.506Z"></path><path d="M9.06 9.06a1.5 1.5 0 1 1-2.12-2.12 1.5 1.5 0 0 1 2.12 2.12Z"></path></svg>
                  </div>
                </div>
                <div class="dotted-spacer" id="separationrtp">
                <brand onclick="loadParent();" style="font-size: 15px;" id="loadButton">Show more replies...</brand>
                </div>
              </div>
              <div class="hidden" id="parentposts">
                <div>
                  <div class="feed-container">
                    <div class="spinner">
                      <svg style="animation: spin 1s infinite;" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="32" height="32"><path d="M5.029 2.217a6.5 6.5 0 0 1 9.437 5.11.75.75 0 1 0 1.492-.154 8 8 0 0 0-14.315-4.03L.427 1.927A.25.25 0 0 0 0 2.104V5.75A.25.25 0 0 0 .25 6h3.646a.25.25 0 0 0 .177-.427L2.715 4.215a6.491 6.491 0 0 1 2.314-1.998ZM1.262 8.169a.75.75 0 0 0-1.22.658 8.001 8.001 0 0 0 14.315 4.03l1.216 1.216a.25.25 0 0 0 .427-.177V10.25a.25.25 0 0 0-.25-.25h-3.646a.25.25 0 0 0-.177.427l1.358 1.358a6.501 6.501 0 0 1-11.751-3.11.75.75 0 0 0-.272-.506Z"></path><path d="M9.06 9.06a1.5 1.5 0 1 1-2.12-2.12 1.5 1.5 0 0 1 2.12 2.12Z"></path></svg>
                    </div>
                  </div>
                  <div class="lined-spacer"></div>
                </div>
              </div>
              <div id="postContainer">
                <div class="spinner">
                  <svg style="animation: spin 1s infinite;" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="32" height="32"><path d="M5.029 2.217a6.5 6.5 0 0 1 9.437 5.11.75.75 0 1 0 1.492-.154 8 8 0 0 0-14.315-4.03L.427 1.927A.25.25 0 0 0 0 2.104V5.75A.25.25 0 0 0 .25 6h3.646a.25.25 0 0 0 .177-.427L2.715 4.215a6.491 6.491 0 0 1 2.314-1.998ZM1.262 8.169a.75.75 0 0 0-1.22.658 8.001 8.001 0 0 0 14.315 4.03l1.216 1.216a.25.25 0 0 0 .427-.177V10.25a.25.25 0 0 0-.25-.25h-3.646a.25.25 0 0 0-.177.427l1.358 1.358a6.501 6.501 0 0 1-11.751-3.11.75.75 0 0 0-.272-.506Z"></path><path d="M9.06 9.06a1.5 1.5 0 1 1-2.12-2.12 1.5 1.5 0 0 1 2.12 2.12Z"></path></svg>
                </div>
              </div>
            </div>
            <div id="user" class="hidden">
              <a onclick="goBack();" title="Go back to previous page" class="back-button">
                <svg style="margin-top: auto; margin-bottom: auto;" xmlns="http://www.w3.org/2000/svg" fill="inherit" viewbox="0 0 16 16" width="32" height="32"><path d="M9.78 12.78a.75.75 0 0 1-1.06 0L4.47 8.53a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L6.06 8l3.72 3.72a.75.75 0 0 1 0 1.06Z"></path></svg>
                <h2 style="color: inherit;">User</h2>
              </a>
              <div id="userStruct">
                <div class="spinner">
                  <svg style="animation: spin 1s infinite;" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="32" height="32"><path d="M5.029 2.217a6.5 6.5 0 0 1 9.437 5.11.75.75 0 1 0 1.492-.154 8 8 0 0 0-14.315-4.03L.427 1.927A.25.25 0 0 0 0 2.104V5.75A.25.25 0 0 0 .25 6h3.646a.25.25 0 0 0 .177-.427L2.715 4.215a6.491 6.491 0 0 1 2.314-1.998ZM1.262 8.169a.75.75 0 0 0-1.22.658 8.001 8.001 0 0 0 14.315 4.03l1.216 1.216a.25.25 0 0 0 .427-.177V10.25a.25.25 0 0 0-.25-.25h-3.646a.25.25 0 0 0-.177.427l1.358 1.358a6.501 6.501 0 0 1-11.751-3.11.75.75 0 0 0-.272-.506Z"></path><path d="M9.06 9.06a1.5 1.5 0 1 1-2.12-2.12 1.5 1.5 0 0 1 2.12 2.12Z"></path></svg>
                </div>
              </div>
            </div>
            <footer>This client is not owned or managed by Bluesky. Some <a href="https://github.com/github/mona-sans" target="_blank">fonts</a> and <a href="https://github.com/primer/octicons" target="_blank">icons</a> are supplied by GitHub.<br>View this project's <a href="https://github.com/Amazingca/BSKY-Wrapper" target="_blank">repo</a> and <a href="https://github.com/users/Amazingca/projects/2/views/5" target="_blank">roadmap</a> on GitHub. View a list of other BlueSky clients <a href="https://atproto.com/community/projects" target="_blank">here</a>.</footer>
          </feed>
          <div class="invisiblepc" id="userpost-container">
            <flex style="justify-content: space-between; margin: 1rem;">
              <h3 id="cancel-post" onclick="newPostToggle();">Cancel</h3>
              <h3 id="submit-post" onclick="sendPost();">Post</h3>
            </flex>
            <hr style="border-color: #888;">
            <div id="post-content">
              <flex style="margin: 1rem; align-items: flex-start;" id="flex-post-area">
              </flex>
            </div>
          </div>
        </grid>
      </div>
    </main-content>
    <div class="deskbutton" id="profileInfoModal"></div>
    <div id="navbar">
      <div style="position: fixed; bottom: 80px; background-color: #d9d9d9; left: 0px; right: 0px; z-index: 1; height: 2px;"></div>
      <navbar>
        <a id="navButtonHomeMobile" href="../../../">
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="24" height="24"><path d="M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z"></path></svg>
        </a>
        <a onclick="addLocation(event);" id="navButtonNotifsMobile" class="notifRedir">
          <div class="hidden" id="notifCountMobile">0</div>
          <div id="navNotifsMobile">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="24" height="24"><path d="M8 16a2 2 0 0 0 1.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 0 0 8 16ZM3 5a5 5 0 0 1 10 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.519 1.519 0 0 1 13.482 13H2.518a1.516 1.516 0 0 1-1.263-2.36l1.703-2.554A.255.255 0 0 0 3 7.947Zm5-3.5A3.5 3.5 0 0 0 4.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.017.017 0 0 0-.003.01l.001.006c0 .002.002.004.004.006l.006.004.007.001h10.964l.007-.001.006-.004.004-.006.001-.007a.017.017 0 0 0-.003-.01l-1.703-2.554a1.745 1.745 0 0 1-.294-.97V5A3.5 3.5 0 0 0 8 1.5Z"></path></svg>
          </div>
        </a>
        <button onclick="newPostToggle();" id="new-post-mobile">
          <svg fill="white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="32" height="32"><path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z"></path></svg>
        </button>
        <a onclick="addLocation(event);" id="navButtonProfileMobile" class="profileRedir">
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="24" height="24"><path d="M10.561 8.073a6.005 6.005 0 0 1 3.432 5.142.75.75 0 1 1-1.498.07 4.5 4.5 0 0 0-8.99 0 .75.75 0 0 1-1.498-.07 6.004 6.004 0 0 1 3.431-5.142 3.999 3.999 0 1 1 5.123 0ZM10.5 5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path></svg>
        </a>
        <a style="cursor: pointer;" id="userInfoButton">
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="24" height="24"><path d="M5.433 2.304A4.492 4.492 0 0 0 3.5 6c0 1.598.832 3.002 2.09 3.802.518.328.929.923.902 1.64v.008l-.164 3.337a.75.75 0 1 1-1.498-.073l.163-3.33c.002-.085-.05-.216-.207-.316A5.996 5.996 0 0 1 2 6a5.993 5.993 0 0 1 2.567-4.92 1.482 1.482 0 0 1 1.673-.04c.462.296.76.827.76 1.423v2.82c0 .082.041.16.11.206l.75.51a.25.25 0 0 0 .28 0l.75-.51A.249.249 0 0 0 9 5.282V2.463c0-.596.298-1.127.76-1.423a1.482 1.482 0 0 1 1.673.04A5.993 5.993 0 0 1 14 6a5.996 5.996 0 0 1-2.786 5.068c-.157.1-.209.23-.207.315l.163 3.33a.752.752 0 0 1-1.094.714.75.75 0 0 1-.404-.64l-.164-3.345c-.027-.717.384-1.312.902-1.64A4.495 4.495 0 0 0 12.5 6a4.492 4.492 0 0 0-1.933-3.696c-.024.017-.067.067-.067.16v2.818a1.75 1.75 0 0 1-.767 1.448l-.75.51a1.75 1.75 0 0 1-1.966 0l-.75-.51A1.75 1.75 0 0 1 5.5 5.282V2.463c0-.092-.043-.142-.067-.159Z"></path></svg>
        </a>
      </navbar>
    </div>
  </body>
  <style>
    @font-face {
      font-family: 'Mona Sans';
      src:
        url('https://cdn.amazingca.dev/assets/fonts/Mona-Sans.woff2') format('woff2 supports variations'),
        url('https://cdn.amazingca.dev/assets/fonts/Mona-Sans.woff2') format('woff2-variations');
      font-weight: 200 900;
      font-stretch: 75% 125%;
    }
    @font-face {
      font-family: 'Hubot Sans';
      src:
        url('https://cdn.amazingca.dev/assets/fonts/Hubot-Sans.woff2') format('woff2 supports variations'),
        url('https://cdn.amazingca.dev/assets/fonts/Hubot-Sans.woff2') format('woff2-variations');
      font-weight: 200 900;
      font-stretch: 75% 125%;
    }
    header {
      background: #f5f5f5;
      padding: 1rem;
      top: 0px;
      position: sticky;
      z-index: 3;
    }
    #searcher {
      display: none;
      position: fixed;
      top: 21px;
      right: 1rem;
    }
    main-content {
      display: block;
      padding-left: 1rem;
      padding-right: 1rem;
    }
    .center {
      display: flex;
      justify-content: center;
    }
    grid {
      display: grid;
      gap: 1rem;
      max-width: 850px;
      grid-template-areas: "rolodex feed";
      grid-template-columns: 15rem auto;
    }
    grid.visiblepc {
      grid-template-areas: "rolodex feed postbox";
      grid-template-columns: 25rem auto 25rem;
    }
    h1, h2, h3, h4, h5, footer, .deskbutton, #userInfoDesktop, .rolo-container, .rolo-text, .feed-container, .full-feed-container, .default-user-photo, .dotted-spacer, #post-text {
      font-family: "Mona Sans";
    }
    .reactor, #notifCountDesktop, #notifCountMobile, #text-amount-indicator {
      font-family: "Hubot Sans";
    }
    h1, h2 {
      font-size: 1.5em;
      font-weight: 900 !important;
      color: #222;
    }
    h3, #user-follows, .dotted-spacer {
      font-weight: 800 !important;
      color: #222;
      margin: 0px;
    }
    h4 {
      font-size: 20px;
    }
    h5 {
      font-weight: 700 !important;
      color: #555;
      margin: 0px;
    }
    #userInfoDesktop {
      position: sticky;
      bottom: 0px;
      background-color: white;

      overflow-y: hidden;
      height: 8rem;
    }
    #userInfoDesktop:hover {
      height: auto;
    }
    .deskbutton-group {
      border-radius: 0.75rem;
      border: 2px solid #d9d9d9;
    }
    .deskbutton {
      font-size: 1.1rem;
      font-weight: 600 !important;
      padding: 0.5rem;
      gap: 0.75rem;
      background-color: white;
      display: flex;
      align-items: center;
      cursor: pointer;
    }
    .deskbutton:hover {
      background-color: #d9d9d9;
    }
    flex {
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }
    brand, #submit-post {
      background-image: linear-gradient(to bottom right, #0099ffAA, #3b82f6FF);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .spinner {
      display: flex;
      text-align: center;
      justify-content: center;
      align-items: center;
      width: 594px;
    }
    .dotted-spacer {
      display: block;
      border-width: 0.3rem;
      border-left-color: #222;
      border-left-style: dashed;
      margin: 0.5rem;
      padding-top: 1rem;
      padding-left: 1rem;
    }
    .lined-spacer {
      display: block;
      border-width: 0.3rem;
      border-left-color: #222;
      border-left-style: solid;
      margin: 0.5rem;
      padding: 1rem;
    }
    spacer {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    form {
      display: flex;
      flex-direction: column;
    }
    rolodex {
      grid-area: rolodex;
      width: 15rem;
      position: relative;
      background-color: white;
    }
    #loginMobile {
      display: none;
    }
    menu {
      position: fixed;
      overflow-y: scroll;
      top: 92.16px;
      bottom: 0px;
      width: 259px;
      margin: 0px;
      padding: 0px;
      padding-top: 19.92px;
      padding-bottom: 1rem;
    }
    menu::-webkit-scrollbar {
      width: 20px;
    }
    .mention {
      font-weight: 600 !important;
      text-decoration: none;
      color: #555;
    }
    .rolo-text {
      border-radius: 0.5rem;
      border-width: 0.1px;
      border-color: #ffffff;
      margin-top: 0.25rem;
      margin-bottom: 0.25rem;
      padding: 0.25rem;
    }
    .rolo-click {
      background-image: linear-gradient(to bottom right, #0099ffAA, #3b82f6FF);
      -webkit-text-fill-color: white;
      padding: 0.25rem;
      cursor: pointer;
      border-radius: 0.5rem;
      border-width: 0px;
      width: 100%;
    }
    .disabledFlag {
      color: #aaa;
    }
    #loadButton {
      cursor: pointer;
    }
    .rolo-click:hover, #loadButton:hover, #new-post:hover, #submit-post:hover, .cover:hover {
      background-image: linear-gradient(to bottom right, #22bbffAA, #5d94f8FF);
    }
    .rolo-click:active, #loadButton:active, #new-post:active, #submit-post:active, .cover:active {
      background-image: linear-gradient(to bottom right, #33ccffAA, #6ea5f9FF);
    }
    .back-button {
      text-decoration: none;
      display: flex;
      align-items: center;
      position: sticky;
      top: 92.16px;
      z-index: 1;
      background-color: white;
    }
    .back-button:hover {
      color: #888;
      cursor: pointer;
      fill: #888;
    }
    flex {
      display: flex;
    }
    feed {
      grid-area: feed;
    }
    beta {
      grid-area: beta;
      display: none;
    }
    .reply-sum {
      margin-left: 0.5rem;
      margin-bottom: 0.25rem;
      cursor: pointer;
    }
    .rolo-container, .feed-container {
      overflow-wrap: anywhere;
      width: inherit;
      background: #f5f5f5;
      padding: 0.5rem;
      border-radius: 0.75rem;
      display: flex;
      flex-direction: column;
      mix-blend-mode: multiply;
    }
    .full-feed-container {
      overflow-wrap: anywhere;
      width: inherit;
      background: #f5f5f5;
      border-radius: 0.75rem;
      display: flex;
      flex-direction: column;
      mix-blend-mode: multiply;
    }
    reactors {
      display: grid;
      background-color: #d9d9d9;
      padding: 0.5rem;
      gap: 1.5rem;
      grid-template-columns: auto auto auto auto;
      border-bottom-left-radius: 0.75rem;
      border-bottom-right-radius: 0.75rem;
      justify-content: start;
    }
    .reactors {
      transition: 0.1s cubic-bezier(.3,.09,.46,1.01) 0s;
    }
    .reactors:hover {
      cursor: pointer;
      transform: scale(1.08);
    }
    footer {
      padding: 1rem;
      display: block;
      text-align: center;
      z-index: 1;
      background-color: white;
    }
    #new-post {
      display: flex;
      gap: 0.75rem;
      font-size: 1.1rem;
      font-weight: 600 !important;
      -webkit-text-fill-color: white;
      height: 2.5rem;
      width: -webkit-fill-available;
      z-index: 1;
      padding: calc(0.5rem + 2px);
      border-radius: 0.75rem;
      border-width: 0px;
      background-image: linear-gradient(to bottom right, #0099ffAA, #3b82f6FF);
      cursor: pointer;
      align-items: center;
    }
    #text-amount-indicator {
      --deg: 0deg;
      aspect-ratio: 1/1;
      display: flex;
      align-items: center;
      justify-content: space-around;
      height: 64px;
      border-radius: 50%;
      background-image: radial-gradient(circle, white 40%, #00000000 40%), conic-gradient(#0099ff var(--deg), #00000000 var(--deg));
    }
    .post-options {
      width: 64px;
      height: 1px;
      background-color: #222;
    }
    .default-user-photo {
      width: 50px;
      aspect-ratio: 1 / 1;
      border-radius: 50%;
      background-image: linear-gradient(to bottom right, #0099ffAA, #3b82f6FF);
      -webkit-text-fill-color: white;
      font-size: 1.8rem;
      font-weight: 700 !important;
      display: flex;
      justify-content: center;
      align-items: center;
      user-select: none;
      -webkit-user-select: none;
    }
    .default-user-photo.post {
      font-size: 2rem;
      width: 64px;
    }
    .cover {
      height: 4rem;
      width: 4rem;
      border-radius: 50%;
      border-width: 0px;
      background-image: linear-gradient(to bottom right, #0099ffAA, #3b82f6FF);
      cursor: pointer;
    }
    #cancel-post {
      color: #888;
      cursor: pointer;
    }
    #cancel-post:hover {
      color: #999;
    }
    #cancel-post:active {
      color: #aaa;
    }
    #submit-post {
      cursor: pointer;
    }
    #post-container, #userpost-container {
      grid-area: postbox;
      position: fixed;
      width: calc(850px - 16rem);
      background-color: #f5f5f5;
      overflow-wrap: anywhere;
      bottom: 0px;
      border: 1px solid white;
      right: calc((100vw - 1rem - 849px)/2);
      z-index: 4;
      margin-top: 0.5rem;
      border-top-left-radius: 25px;
      border-top-right-radius: 25px;
    }
    .invisiblepc {
      top: 100vh;
    }
    .visiblepc {
      top: calc(100vh - 27em);
    }
    #post-text {
      border-color: #00000000;
      border-radius: 10px;
      height: 80vh;
      font-size: 24px;
      width: -webkit-fill-available;
      padding: 0.5rem;
      resize: none;
    }
    #navbar {
      display: none;
    }
    navbar {
      display: flex;
      gap: 1rem;
      position: fixed;
      background: white;
      left: 0px;
      right: 0px;
      bottom: 0px;
      padding: 0.5rem;
      z-index: 1;
      justify-content: space-around;
      align-items: center;
    }
    #notifCountDesktop {
      background-image: linear-gradient(to bottom right, #0099ffAA, #3b82f6FF);
      -webkit-text-fill-color: white;
      background-color: white;
      border-radius: 9px;
      text-align: center;
      font-size: 14px;
      padding: 0.25rem;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
    }
    #notifCountMobile {
      position: absolute;
      background-image: linear-gradient(to bottom right, #0099ffAA, #3b82f6FF);
      -webkit-text-fill-color: white;
      background-color: white;
      border-radius: 9px;
      margin-left: 15px;
      bottom: 45px;
      text-align: center;
      font-size: 12px;
      padding: 0.25rem;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
    }
    #profileInfoModal {
      display: none;
      transition: 0.1s cubic-bezier(.4,1.53,.81,1.24) 0s;
      position: fixed;
      bottom: 5rem;
      right: 0rem;
      z-index: 3;
      font-weight: 700 !important;
      text-align: end;
      font-size: 1.25rem;
      padding: 0px;
      border-radius: 0.75rem;
      background-color: white; 
      border: 2px solid #d9d9d9;
    }
    .user-options {
      width: -webkit-fit-available;
      height: 2px;
      background-color: #d9d9d9;
    }
    .userInfoOptionsButton {
      background-color: white;
      border-width: 0px;
      cursor: pointer;
      color: #222;
      padding: 0.5rem;
      font-weight: 700 !important;
      font-size: 1.1rem;
      text-align: right;
    }
    .userInfoOptionsButton:hover {
      background-color: #d9d9d9;
    }
    @keyframes spin {
      0% { transform: rotateZ(0deg); }
      100% { transform: rotateZ(-360deg); }
    }
    grid.visiblepc {
      grid-template-areas: 
        "rolodex feed"
        "empty postbox";
      grid-template-columns: 15rem auto;
    }
    @media screen and (max-width: 898px) {
      grid {
        grid-template-columns: 15rem auto;
      }
      #post-container, #userpost-container {
        width: calc(100vw - 19rem);
        right: 1rem;
      }
      .spinner {
        width: auto;
      }
    }
    @media screen and (max-width: 589px) {
      header {
        position: relative;
        padding-top: 0.25rem;
        padding-bottom: 0.25rem;
      }
      #searcher {
        display: block;
        cursor: pointer;
      }
      #loginButton {
        display: none;
      }
      #logoutButton {
        display: none;
      }
      .center {
        display: block;
      }
      grid, grid.visiblepc {
        grid-template-areas:
          "rolodex"
          "feed"
          "postbox";
        grid-template-columns: auto;
        gap: 0px;
      }
      grid.nav {
        gap: 1rem;
      }
      rolodex {
        grid-area: rolodex;
        width: auto;
        display: none;
      }
      #user-info-panel {
        display: none;
      }
      reactors {
        padding: 0.5rem;
        gap: 0.5rem;
        justify-content: space-between;
      }
      #feed-attach {
        text-decoration: none;
        display: flex;
        align-items: center;
        position: sticky;
        top: 0px;
        z-index: 1;
        background-color: white;
      }
      #new-post {
        display: none;
      }
      #new-post-mobile {
        height: 4rem;
        width: 4rem;
        z-index: 1;
        border-radius: 50%;
        border-width: 0px;
        background-image: linear-gradient(to bottom right, #0099ffAA, #3b82f6FF);
        cursor: pointer;
      }
      #loginMobile.active {
        display: block;
      }
      #logoutMobile {
        display: block;
      }
      menu {
        position: relative;
        width: auto;
        height: auto;
        overflow-y: auto;
        padding-bottom: 0px;
        top: 0px;
      }
      .post-size {
        width: calc(100vw - 3rem);
      }
      #post-container, #userpost-container {
        margin-top: 0px;
        border: none;
        border-radius: 0px;
        width: 100vw;
        left: 0px;
      }
      .back-button {
        top: 0px;
      }
      #navbar.active {
        display: block;
      }
      .visiblepc {
        top: 0px;
      }
    }
    body {
      margin: 0px;
      padding: 0px;
    }
    .hidden {
      display: none;
    }
    .nooverflow {
      overflow: hidden;
    }
    .visible {
      display: block;
    }
    a {
      color: inherit;
    }
    a:hover {
      color: #888;
    }
  </style>
  <script>
    var postObj = {};
    var file;
      
    function toggleNav() {
      
      if (localStorage.getItem("rolodexVisible") === null) {

        document.getElementsByTagName('rolodex')[0].classList.add('visible');
        document.getElementsByTagName('grid')[0].classList.add('nav');
        localStorage.setItem("rolodexVisible", true);
      } else if (localStorage.getItem("rolodexVisible") === "true") {

        document.getElementsByTagName('rolodex')[0].classList.remove('visible');
        document.getElementsByTagName('grid')[0].classList.remove('nav');
        localStorage.removeItem("rolodexVisible");
      }
    }
      
    function addLocation(event) {
      event.preventDefault();
      
      if ((localStorage.getItem("recent") === null) && (window.location.search != "")) {
          
        localStorage.setItem("recent", "[\"" + document.location.href + "\"]");
      } else {
          
        var urls = JSON.parse(localStorage.getItem("recent"));
        urls.push(document.location.href);
        localStorage.setItem("recent", JSON.stringify(urls));
      }
    }
      
    function goBack() {
      
      if ((localStorage.getItem("recent") === "[]") || (localStorage.getItem("recent") === null)) {
          
        document.location.href = "./";
      } else {
          
        var urls = JSON.parse(localStorage.getItem("recent"));
        var url = urls[urls.length - 1];
        urls.pop();
        localStorage.setItem("recent", JSON.stringify(urls));

        document.location.href = url;
      }
    }
      
    function newPostToggle() {
        
      document.getElementsByTagName("grid")[0].classList.toggle("visiblepc");
      
      document.getElementById("userpost-container").style.transitionDuration = "0.45s"
      document.getElementById("userpost-container").classList.toggle("invisiblepc");
      document.getElementById("userpost-container").classList.toggle("visiblepc");
      
      setTimeout(function(){
        
        document.getElementById("userpost-container").style.transitionDuration = "0s";
      }, 450);
        
      if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
        
        document.getElementsByTagName("body")[0].classList.toggle("nooverflow");
      }
    }
      
    function addLink() {
        
      let link = prompt("Please enter your link.");
        
      if (link != "") {
          
        postObj = {
          "record": {
            "embed": {
              "$type": "app.bsky.embed.external",
              "external": {
                "uri": link,
                "title": "",
                "description": ""
              }
            }
          }
        }
      }
    }
      
    function chooseImage() {
        
      var input = document.createElement("input");
      input.style.display = "none";
      input.type = "file";
      input.accept = ".png,.jpg,.jpeg";
      input.click();
        
      input.onchange = e => { 
          
        file = e.target.files[0];
          
        if (file.size > 976560) {
            
          alert("File size must not exceed 976.56KB!");
          file = "";
        } else {

          const reader = new FileReader();

          reader.onload = () => {

            const data = reader.result;
              
            // Turn provided file into Uint8Array
            const uint8array = new Uint8Array(data);
              
            // Send Uint8Array to async to process request
            addImage(uint8array);
          };
          
          // Read Array Buffer from our file, will trigger above ^ once done
          reader.readAsArrayBuffer(file);
        }
      }
    }
      
    async function addImage(data) {
          
          
      var token;

      try {

        token = await getToken();
      } catch (e) {

        console.log(e);
      }
        
      // Assign request properties, data is our Uint8Array from before
      const blobObj = {
        method: "POST",
        body: data,
        headers: {
          "Authorization": "Bearer " + token,
          "Content-Type": file.type
        }
      };

      try {
            
        // Make a fetch request with 'blobObj' properties, then take our response and convert it to JSON object.
        const blobResTemp = await fetch("https://bsky.social/xrpc/com.atproto.repo.uploadBlob", blobObj).then(r => r.text());
        const blobRes = JSON.parse(blobResTemp);
          
          
        var images = [];
        if (postObj.record != undefined) {
            
          images = postObj.record.embed.images;
        }

        let alt = prompt("Include any alt text for this image...");

        images.push({
          "alt": alt,
          "image": {
            "cid": blobRes.cid,
            "mimeType": file.type
          }
        });
            
        console.log(blobRes.cid);

        postObj = {
          "record": {
            "embed": {
              "$type": "app.bsky.embed.images",
              "images": images
            }
          }
        };
          
        console.log(postObj);
      } catch (e) {

        console.log(e);
        warn("The file could not be uploaded!");
      }
    }
      
    async function sendPost() {
        
      var token;

      try {

        token = await getToken();
      } catch (e) {

        console.log(e);
      }
        
      const postText = document.getElementById("post-text").value;
        
      const userDid = localStorage.getItem("userDid");
      const creationDate = new Date().toISOString();
        
      if (postObj.record === undefined) {
          
        postObj = {
          "repo": userDid,
          "collection": "app.bsky.feed.post",
          "record": {
            "text": postText,
            "createdAt": creationDate
          }
        }
      } else {
          
        postObj.repo = userDid;
        postObj.collection = "app.bsky.feed.post";
        postObj.record.text = postText;
        postObj.record.createdAt = creationDate;
      }
        
      const postReqObj = {
        method: "POST",
        body: JSON.stringify(postObj),
        headers: {
          "Authorization": "Bearer " + token,
          "Content-Type": "application/json"
        }
      }
        
      try {
          
        const tryUpload = await fetch("https://bsky.social/xrpc/com.atproto.repo.createRecord", postReqObj).then(r => r.text());
          
        if (tryUpload.includes("uri")) {
            
          postObj = {};
          const uriJson = JSON.parse(tryUpload);
            
          document.location.href = document.location.origin + document.location.pathname + "?username=" + userDid + "&postid=" + uriJson.uri.split("/")[uriJson.uri.split("/").length - 1];
        } else {
            
          console.log(tryUpload);
          window.alert("Your post could not be sent!");
        }
      } catch (e) {
          
        console.log(e);
        window.alert("Your post could not be sent!");
      }
    }
      
    async function getToken() {
        
      var refreshToken = localStorage.getItem("refreshJwt");
        
      try {
          
        const req = {
          method: "POST",
          headers: {
            "Authorization": "Bearer " + refreshToken
          }
        }
          
        const newTokens = JSON.parse(await fetch("https://bsky.social/xrpc/com.atproto.server.refreshSession", req).then(r => r.text()));
          
        localStorage.setItem("accessJwt", newTokens.accessJwt);
        localStorage.setItem("refreshJwt", newTokens.refreshJwt);
          
        return newTokens.accessJwt;
      } catch (e) {
          
        console.log(e);
      }
    }
      
    function logout() {
        
      localStorage.removeItem("refreshJwt");
      localStorage.removeItem("accessJwt");
      localStorage.removeItem("userDid");
      
      document.getElementById("logoutButton").classList.add("hidden");
      document.getElementById("loginMobile").classList.add("active");
      document.getElementById("loginButton").classList.remove("hidden");
        
      document.getElementById("user-info-panel").classList.add("hidden");
      document.getElementById("flex-post-area").innerHTML = "";
      document.getElementById("new-post").style.display = "none";

      document.getElementById("navbar").classList.remove("active");
      
      document.getElementById("profileInfoModal").style.right = "0rem";
      document.getElementById("profileInfoModal").style.bottom = "5rem";
        
      setTimeout(function(){
          
        document.getElementById("profileInfoModal").style.display = "none";
      }, 40);
        
      document.getElementById("userInfoButton").innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" width="24" height="24"><path d="M5.433 2.304A4.492 4.492 0 0 0 3.5 6c0 1.598.832 3.002 2.09 3.802.518.328.929.923.902 1.64v.008l-.164 3.337a.75.75 0 1 1-1.498-.073l.163-3.33c.002-.085-.05-.216-.207-.316A5.996 5.996 0 0 1 2 6a5.993 5.993 0 0 1 2.567-4.92 1.482 1.482 0 0 1 1.673-.04c.462.296.76.827.76 1.423v2.82c0 .082.041.16.11.206l.75.51a.25.25 0 0 0 .28 0l.75-.51A.249.249 0 0 0 9 5.282V2.463c0-.596.298-1.127.76-1.423a1.482 1.482 0 0 1 1.673.04A5.993 5.993 0 0 1 14 6a5.996 5.996 0 0 1-2.786 5.068c-.157.1-.209.23-.207.315l.163 3.33a.752.752 0 0 1-1.094.714.75.75 0 0 1-.404-.64l-.164-3.345c-.027-.717.384-1.312.902-1.64A4.495 4.495 0 0 0 12.5 6a4.492 4.492 0 0 0-1.933-3.696c-.024.017-.067.067-.067.16v2.818a1.75 1.75 0 0 1-.767 1.448l-.75.51a1.75 1.75 0 0 1-1.966 0l-.75-.51A1.75 1.75 0 0 1 5.5 5.282V2.463c0-.092-.043-.142-.067-.159Z"></path></svg>`;
        
      userInfoVisible = false;
      
      location.reload();
    }
      
    function goToProfile() {
        
      const userId = localStorage.getItem("userDid");
        
      document.location.href = document.location.origin + document.location.pathname + "?username=" + userId;
    }
    
    function loadParent() {
      
      
    }
  </script>
</html>